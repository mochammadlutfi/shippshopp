import{r as s,an as $,A as z,j as x,k as I,l as a,cC as U,p as o,$ as p,a3 as H,s as L,v as e,a2 as O,q as h,cD as q,E as K,B as R,x as Y,y as F}from"./id.js";import"./moment.js";import{E as G}from"./index29.js";import{E as J}from"./index20.js";import{a as Q,E as W}from"./index33.js";import{E as X,a as Z}from"./index8.js";import{E as ee}from"./index21.js";import{E as ae,a as te}from"./index30.js";import{E as oe}from"./index34.js";import{v as se}from"./directive.js";import"./index27.js";import"./scroll.js";import"./index7.js";import"./typescript.js";import"./index32.js";import"./isEqual.js";import"./_Uint8Array.js";import"./event.js";import"./debounce.js";import"./index31.js";import"./index23.js";import"./_initCloneObject.js";const le={class:"content"},ne={class:"content-heading d-flex justify-content-between align-items-center"},ie=o("span",null,"Supplier",-1),re={class:"space-x-1"},ce=["href"],pe=o("i",{class:"fa fa-plus me-1"},null,-1),de={class:"block rounded"},ue={class:"block-content py-3"},_e=o("span",null,[o("i",{class:"fa fa-search"})],-1),me={class:"block-content p-0"},fe=o("i",{class:"fa fa-angle-down ms-1"},null,-1),he=["href"],ve=o("i",{class:"si fa-fw si-note"},null,-1),ge=o("i",{class:"si fa-fw si-trash"},null,-1),be={class:"block-content py-2"},we={class:"my-auto fs-sm"},v=25,Re={__name:"Index",setup(ye){const g=s([]),d=s(!0),u=s(""),_=s(0),m=s(0),k=s(0),b=s(1),w=s(0),r=async l=>{try{d.value=!0;const t=await U.get("/admin/supplier/data",{params:{page:l||1,limit:v,search:u.value}});t.status===200&&(g.value=t.data.data,b.value=t.data.current_page,_.value=t.data.total,w.value=t.data.per_page,m.value=t.data.from,m.to=t.data.to)}catch(t){console.error(t)}finally{d.value=!1}},C=l=>{r()},B=l=>{G.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{q.delete(`/admin/supplier/${l}/delete`,{preserveScroll:!0,onSuccess:()=>{r(),J({type:"success",message:"Data Berhasil Dihapus!"})}})})};return $(()=>{r()}),(l,t)=>{const f=Q,D=W,c=X,V=ee,y=Z,i=ae,S=K,E=R,T=Y,j=F,M=te,N=oe,A=z("base-layout"),P=se;return x(),I(A,null,{default:a(()=>[o("div",le,[o("div",ne,[ie,o("div",re,[o("a",{href:l.route("admin.purchase.supplier.create"),class:"ep-button ep-button--primary"},[pe,p(" Tambah ")],8,ce)])]),H((x(),L("div",de,[o("div",ue,[e(y,{justify:"space-between"},{default:a(()=>[e(c,{span:12},{default:a(()=>[e(D,{modelValue:v,"onUpdate:modelValue":t[0]||(t[0]=n=>v=n),placeholder:"Pilih",style:{width:"110px"},onChange:t[1]||(t[1]=n=>r(1))},{default:a(()=>[e(f,{label:"25",value:"25"}),e(f,{label:"50",value:"50"}),e(f,{label:"100",value:"100"})]),_:1})]),_:1}),e(c,{span:7},{default:a(()=>[e(V,{modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value=n),clearable:""},{prefix:a(()=>[_e]),_:1},8,["modelValue"])]),_:1})]),_:1})]),o("div",me,[e(M,{data:g.value,class:"w-100",onSortChange:C,"header-cell-class-name":"bg-primary text-dark"},{default:a(()=>[e(i,{type:"index",width:"100"}),e(i,{prop:"nama",label:"Nama",sortable:""}),e(i,{prop:"hp",label:"No HP",sortable:""}),e(i,{prop:"email",label:"Email",sortable:""}),e(i,{prop:"alamat",label:"Alamat",sortable:""}),e(i,{label:"Aksi",align:"center",width:"180"},{default:a(n=>[e(j,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:a(()=>[e(T,null,{default:a(()=>[e(E,null,{default:a(()=>[o("a",{href:l.route("admin.purchase.supplier.edit",{id:n.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[p(" Ubah "),ve],8,he)]),_:2},1024),e(E,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:O(Ee=>B(n.row.id),["prevent"])},{default:a(()=>[p(" Hapus "),ge]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(S,{type:"primary"},{default:a(()=>[p(" Aksi "),fe]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",be,[e(y,{justify:"space-between"},{default:a(()=>[e(c,{lg:12,class:"d-flex"},{default:a(()=>[o("p",we,"Menampilkan "+h(m.value)+" sampai "+h(k.value)+" dari "+h(_.value),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:a(()=>[e(N,{class:"float-end",background:"",layout:"prev, pager, next","page-size":w.value,total:_.value,"current-page":b.value,onCurrentChange:r},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[P,d.value]])])]),_:1})}}};export{Re as default};
