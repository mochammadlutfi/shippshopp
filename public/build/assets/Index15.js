import{r as s,an as $,A as z,j as x,k as I,l as t,cC as U,p as o,$ as p,a3 as H,s as L,v as e,a2 as q,q as h,E as K,B as O,x as R,y as Y}from"./id.js";import"./moment.js";import{E as F}from"./index29.js";import{E as G}from"./index20.js";import{a as J,E as Q}from"./index32.js";import{E as W,a as X}from"./index8.js";import{E as Z}from"./index21.js";import{E as ee,a as te}from"./index31.js";import{E as ae}from"./index34.js";import{v as oe}from"./directive.js";import"./index27.js";import"./scroll.js";import"./index7.js";import"./typescript.js";import"./index30.js";import"./isEqual.js";import"./_Uint8Array.js";import"./event.js";import"./debounce.js";import"./index33.js";import"./index23.js";import"./_initCloneObject.js";const se={class:"content"},le={class:"content-heading d-flex justify-content-between align-items-center"},ne=o("span",null,"Supplier",-1),ie={class:"space-x-1"},re=["href"],ce=o("i",{class:"fa fa-plus me-1"},null,-1),pe={class:"block rounded"},de={class:"block-content py-3"},ue=o("span",null,[o("i",{class:"fa fa-search"})],-1),_e={class:"block-content p-0"},me=o("i",{class:"fa fa-angle-down ms-1"},null,-1),fe=["href"],he=o("i",{class:"si fa-fw si-note"},null,-1),ve=o("i",{class:"si fa-fw si-trash"},null,-1),ge={class:"block-content py-2"},be={class:"my-auto fs-sm"},v=25,Oe={__name:"Index",setup(we){const g=s([]),d=s(!0),u=s(""),_=s(0),m=s(0),k=s(0),b=s(1),w=s(0),r=async l=>{try{d.value=!0;const a=await U.get("/admin/supplier/data",{params:{page:l||1,limit:v,search:u.value}});a.status===200&&(g.value=a.data.data,b.value=a.data.current_page,_.value=a.data.total,w.value=a.data.per_page,m.value=a.data.from,m.to=a.data.to)}catch(a){console.error(a)}finally{d.value=!1}},C=l=>{r()},B=l=>{F.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.sale.customer.delete",{id:l}),{preserveScroll:!0,onSuccess:()=>{r(),G({type:"success",message:"Data Berhasil Dihapus!"})}})})};return $(()=>{r()}),(l,a)=>{const f=J,D=Q,c=W,V=Z,y=X,i=ee,S=K,E=O,T=R,j=Y,M=te,N=ae,A=z("base-layout"),P=oe;return x(),I(A,null,{default:t(()=>[o("div",se,[o("div",le,[ne,o("div",ie,[o("a",{href:l.route("admin.purchase.supplier.create"),class:"ep-button ep-button--primary"},[ce,p(" Tambah ")],8,re)])]),H((x(),L("div",pe,[o("div",de,[e(y,{justify:"space-between"},{default:t(()=>[e(c,{span:12},{default:t(()=>[e(D,{modelValue:v,"onUpdate:modelValue":a[0]||(a[0]=n=>v=n),placeholder:"Pilih",style:{width:"110px"},onChange:a[1]||(a[1]=n=>r(1))},{default:t(()=>[e(f,{label:"25",value:"25"}),e(f,{label:"50",value:"50"}),e(f,{label:"100",value:"100"})]),_:1})]),_:1}),e(c,{span:7},{default:t(()=>[e(V,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=n=>u.value=n),clearable:""},{prefix:t(()=>[ue]),_:1},8,["modelValue"])]),_:1})]),_:1})]),o("div",_e,[e(M,{data:g.value,class:"w-100",onSortChange:C,"header-cell-class-name":"bg-primary text-dark"},{default:t(()=>[e(i,{type:"index",width:"100"}),e(i,{prop:"nama",label:"Nama",sortable:""}),e(i,{prop:"hp",label:"No HP",sortable:""}),e(i,{prop:"email",label:"Email",sortable:""}),e(i,{prop:"address",label:"Alamat",sortable:""}),e(i,{label:"Aksi",align:"center",width:"180"},{default:t(n=>[e(j,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(T,null,{default:t(()=>[e(E,null,{default:t(()=>[o("a",{href:l.route("admin.purchase.supplier.edit",{id:n.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[p(" Ubah "),he],8,fe)]),_:2},1024),e(E,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:q(ye=>B(n.row.id),["prevent"])},{default:t(()=>[p(" Hapus "),ve]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(S,{type:"primary"},{default:t(()=>[p(" Aksi "),me]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",ge,[e(y,{justify:"space-between"},{default:t(()=>[e(c,{lg:12,class:"d-flex"},{default:t(()=>[o("p",be,"Menampilkan "+h(m.value)+" sampai "+h(k.value)+" dari "+h(_.value),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:t(()=>[e(N,{class:"float-end",background:"",layout:"prev, pager, next","page-size":w.value,total:_.value,"current-page":b.value,onCurrentChange:r},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[P,d.value]])])]),_:1})}}};export{Oe as default};
