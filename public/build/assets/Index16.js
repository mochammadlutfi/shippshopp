import{r as n,an as z,A,j as x,k as I,l as a,cC as U,p as o,a3 as H,s as K,v as e,$ as f,a2 as L,q as g,cD as O,E as q,B as R,x as Y,y as F}from"./id.js";import"./moment.js";import{E as G}from"./index32.js";import{E as J}from"./index20.js";import{E as Q,a as W}from"./index26.js";import{E as X,a as Z}from"./index8.js";import{E as ee}from"./index21.js";import{E as ae,a as te}from"./index33.js";import{E as oe}from"./index34.js";import{v as ne}from"./directive.js";import"./index28.js";import"./scroll.js";import"./index7.js";import"./typescript.js";import"./index30.js";import"./isEqual.js";import"./_Uint8Array.js";import"./event.js";import"./debounce.js";import"./index31.js";import"./index23.js";import"./_initCloneObject.js";const se={class:"content"},le=o("div",{class:"content-heading d-flex justify-content-between align-items-center"},[o("span",null,"Konsumen"),o("div",{class:"space-x-1"})],-1),ie={class:"block rounded bordered"},re={class:"block-content py-3"},ce=o("span",null,[o("i",{class:"fa fa-search"})],-1),pe={class:"block-content p-0"},de=o("i",{class:"fa fa-angle-down ms-1"},null,-1),ue=["href"],_e=o("i",{class:"si fa-fw si-note"},null,-1),me=o("i",{class:"si fa-fw si-trash"},null,-1),fe={class:"block-content py-2"},ge={class:"my-auto text-sm"},v=25,Ke={__name:"Index",setup(ve){const h=n([]),p=n(!0),d=n(""),u=n(0),_=n(0),k=n(0),b=n(1),w=n(0),i=async l=>{try{p.value=!0;const t=await U.get("/admin/pelanggan/data",{params:{page:l||1,limit:v,search:d.value}});t.status===200&&(h.value=t.data.data,b.value=t.data.current_page,u.value=t.data.total,w.value=t.data.per_page,_.value=t.data.from,_.to=t.data.to)}catch(t){console.error(t)}finally{p.value=!1}},C=l=>{i()},B=l=>{G.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{O.delete(`/admin/pelanggan/${l}/delete`,{preserveScroll:!0,onSuccess:()=>{i(),J({type:"success",message:"Data Berhasil Dihapus!"})}})})};return z(()=>{i()}),(l,t)=>{const m=Q,D=W,c=X,V=ee,y=Z,r=ae,j=q,E=R,M=Y,S=F,T=te,N=oe,P=A("base-layout"),$=ne;return x(),I(P,null,{default:a(()=>[o("div",se,[le,H((x(),K("div",ie,[o("div",re,[e(y,{justify:"space-between"},{default:a(()=>[e(c,{span:12},{default:a(()=>[e(D,{modelValue:v,"onUpdate:modelValue":t[0]||(t[0]=s=>v=s),placeholder:"Pilih",style:{width:"110px"},onChange:t[1]||(t[1]=s=>i(1))},{default:a(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1})]),_:1}),e(c,{span:7},{default:a(()=>[e(V,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=s=>d.value=s),clearable:""},{prefix:a(()=>[ce]),_:1},8,["modelValue"])]),_:1})]),_:1})]),o("div",pe,[e(T,{data:h.value,class:"w-100",onSortChange:C,"header-cell-class-name":"bg-primary text-dark"},{default:a(()=>[e(r,{type:"index",width:"50"}),e(r,{prop:"name",label:"Nama",sortable:""}),e(r,{prop:"phone",label:"No HP",sortable:""}),e(r,{prop:"email",label:"Email",sortable:""}),e(r,{label:"Aksi",align:"center",width:"180"},{default:a(s=>[e(S,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:a(()=>[e(M,null,{default:a(()=>[e(E,null,{default:a(()=>[o("a",{href:l.route("admin.sale.customer.edit",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[f(" Ubah "),_e],8,ue)]),_:2},1024),e(E,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:L(he=>B(s.row.id),["prevent"])},{default:a(()=>[f(" Hapus "),me]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[e(j,{type:"primary"},{default:a(()=>[f(" Aksi "),de]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",fe,[e(y,{justify:"space-between"},{default:a(()=>[e(c,{lg:12,class:"d-flex"},{default:a(()=>[o("p",ge,"Menampilkan "+g(_.value)+" sampai "+g(k.value)+" dari "+g(u.value),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:a(()=>[e(N,{class:"float-end",background:"",layout:"prev, pager, next","page-size":w.value,total:u.value,"current-page":b.value,onCurrentChange:i},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[$,p.value]])])]),_:1})}}};export{Ke as default};
