import{r as n,an as z,A,j as x,k as I,l as t,cC as U,p as o,a3 as H,s as K,v as e,$ as f,a2 as L,q as g,E as q,B as O,x as R,y as Y}from"./id.js";import"./moment.js";import{E as F}from"./index29.js";import{E as G}from"./index20.js";import{a as J,E as Q}from"./index32.js";import{E as W,a as X}from"./index8.js";import{E as Z}from"./index21.js";import{E as ee,a as te}from"./index31.js";import{E as ae}from"./index34.js";import{v as oe}from"./directive.js";import"./index27.js";import"./scroll.js";import"./index7.js";import"./typescript.js";import"./index30.js";import"./isEqual.js";import"./_Uint8Array.js";import"./event.js";import"./debounce.js";import"./index33.js";import"./index23.js";import"./_initCloneObject.js";const ne={class:"content"},se=o("div",{class:"content-heading d-flex justify-content-between align-items-center"},[o("span",null,"Konsumen"),o("div",{class:"space-x-1"})],-1),le={class:"block rounded bordered"},ie={class:"block-content py-3"},re=o("span",null,[o("i",{class:"fa fa-search"})],-1),ce={class:"block-content p-0"},pe=o("i",{class:"fa fa-angle-down ms-1"},null,-1),de=["href"],ue=o("i",{class:"si fa-fw si-note"},null,-1),_e=o("i",{class:"si fa-fw si-trash"},null,-1),me={class:"block-content py-2"},fe={class:"my-auto text-sm"},v=25,He={__name:"Index",setup(ge){const h=n([]),p=n(!0),d=n(""),u=n(0),_=n(0),k=n(0),b=n(1),w=n(0),i=async l=>{try{p.value=!0;const a=await U.get("/admin/pelanggan/data",{params:{page:l||1,limit:v,search:d.value}});a.status===200&&(h.value=a.data.data,b.value=a.data.current_page,u.value=a.data.total,w.value=a.data.per_page,_.value=a.data.from,_.to=a.data.to)}catch(a){console.error(a)}finally{p.value=!1}},C=l=>{i()},B=l=>{F.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.sale.customer.delete",{id:l}),{preserveScroll:!0,onSuccess:()=>{i(),G({type:"success",message:"Data Berhasil Dihapus!"})}})})};return z(()=>{i()}),(l,a)=>{const m=J,D=Q,c=W,V=Z,y=X,r=ee,j=q,E=O,M=R,S=Y,T=te,N=ae,P=A("base-layout"),$=oe;return x(),I(P,null,{default:t(()=>[o("div",ne,[se,H((x(),K("div",le,[o("div",ie,[e(y,{justify:"space-between"},{default:t(()=>[e(c,{span:12},{default:t(()=>[e(D,{modelValue:v,"onUpdate:modelValue":a[0]||(a[0]=s=>v=s),placeholder:"Pilih",style:{width:"110px"},onChange:a[1]||(a[1]=s=>i(1))},{default:t(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1})]),_:1}),e(c,{span:7},{default:t(()=>[e(V,{modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=s=>d.value=s),clearable:""},{prefix:t(()=>[re]),_:1},8,["modelValue"])]),_:1})]),_:1})]),o("div",ce,[e(T,{data:h.value,class:"w-100",onSortChange:C,"header-cell-class-name":"bg-primary text-dark"},{default:t(()=>[e(r,{type:"index",width:"50"}),e(r,{prop:"name",label:"Nama",sortable:""}),e(r,{prop:"phone",label:"No HP",sortable:""}),e(r,{prop:"email",label:"Email",sortable:""}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(s=>[e(S,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(M,null,{default:t(()=>[e(E,null,{default:t(()=>[o("a",{href:l.route("admin.sale.customer.edit",{id:s.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[f(" Ubah "),ue],8,de)]),_:2},1024),e(E,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:L(ve=>B(s.row.id),["prevent"])},{default:t(()=>[f(" Hapus "),_e]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(j,{type:"primary"},{default:t(()=>[f(" Aksi "),pe]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])]),o("div",me,[e(y,{justify:"space-between"},{default:t(()=>[e(c,{lg:12,class:"d-flex"},{default:t(()=>[o("p",fe,"Menampilkan "+g(_.value)+" sampai "+g(k.value)+" dari "+g(u.value),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:t(()=>[e(N,{class:"float-end",background:"",layout:"prev, pager, next","page-size":w.value,total:u.value,"current-page":b.value,onCurrentChange:i},null,8,["page-size","total","current-page"])]),_:1})]),_:1})])])),[[$,p.value]])])]),_:1})}}};export{He as default};
