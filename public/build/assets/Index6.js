import{h as b}from"./moment.js";import{_ as D,A as E,j as i,k as _,l as s,p as t,$ as d,H as h,v as a,q as c,s as p,u as j,F as k,a0 as g,E as V}from"./id.js";import{E as C}from"./index21.js";import{E as T,a as z}from"./index8.js";import{E as B}from"./index30.js";import"./typescript.js";import"./event.js";const L={data(){return{status:this.route().params.status==null?"pending":this.route().params.status,data:[],isLoading:!1,page:1,pageSize:0,total:0,from:0,to:0,searchTerms:""}},async mounted(){await this.fetchData()},methods:{async fetchData(r){var r=r??1;try{this.isLoading=!0;const o=await axios.get(this.route("user.return.data"),{params:{page:r,search:this.searchTerms,status:this.status}});o.status==200&&(this.data=o.data.data,this.page=o.data.current_page,this.total=o.data.total,this.pageSize=o.data.per_page,this.from=o.data.from,this.to=o.data.to),this.isLoading=!1}catch(o){console.error(o)}},format_date(l){if(l)return b.locale("id"),b(String(l)).format("DD MMM YYYY")}}},M={class:"d-flex justify-content-between align-items-center mb-4"},N=t("h3",{class:"fs-4 fw-bold mb-0"},"Retur Pesanan",-1),R={class:"space-x-1"},S=["href"],Y=t("i",{class:"fa fa-plus me-1"},null,-1),P={class:"block block-bordered rounded mb-3"},q={class:"nav nav-tabs nav-tabs-alt nav-fill"},A={class:"nav-item"},F=["href"],I={class:"nav-item"},H=["href"],K={class:"nav-item"},U=["href"],G={class:"block-content p-2"},J=t("i",{class:"fa fa-search"},null,-1),O={class:"d-flex float-end my-auto"},Q={class:"my-auto px-3"},W={class:"pt-25 pl-0"},X=t("i",{class:"fa fa-chevron-left fa-fw"},null,-1),Z=t("i",{class:"fa fa-chevron-right fa-fw"},null,-1),$={class:"block-header border-3x border-bottom p-3"},tt={class:"block-title"},st={class:"block-options"},et={class:"block-options-item"},at={class:"block-content p-3"},ot=["src"],nt={class:"my-auto"},lt={class:"fs-6 fw-bold"},rt={class:"fs-sm fw-semibold"},it={class:"block-content block-content-full block-content-sm text-right border-top"},ct=["href"];function dt(l,r,o,ut,n,y){const w=C,u=T,v=V,f=z,m=B,x=E("user-layout");return i(),_(x,null,{default:s(()=>[t("div",M,[N,t("div",R,[t("a",{href:l.route("user.return.create"),class:"ep-button ep-button--primary"},[Y,d(" Ajukan Retur ")],8,S)])]),t("div",P,[t("ul",q,[t("li",A,[t("a",{class:h(["nav-link",{active:n.status=="pending"}]),href:l.route("user.return.index",{status:"pending"})},"Pending ",10,F)]),t("li",I,[t("a",{class:h(["nav-link",{active:n.status=="confirm"}]),href:l.route("user.return.index",{status:"confirm"})},"Disetujui ",10,H)]),t("li",K,[t("a",{class:h(["nav-link",{active:n.status=="reject"}]),href:l.route("user.return.index",{status:"reject"})},"Ditolak ",10,U)])]),t("div",G,[a(f,{gutter:12},{default:s(()=>[a(u,{lg:12},{default:s(()=>[a(w,{modelValue:n.searchTerms,"onUpdate:modelValue":r[0]||(r[0]=e=>n.searchTerms=e),class:"w-75 m-2",placeholder:"Cari Pesanan"},{prefix:s(()=>[J]),_:1},8,["modelValue"])]),_:1}),a(u,{lg:12,class:"d-flex float-end my-auto"},{default:s(()=>[t("div",O,[t("div",Q,[t("span",null,c(n.from)+"-"+c(n.to)+"/"+c(n.total),1)]),t("div",W,[a(v,{type:"primary",size:"small"},{default:s(()=>[X]),_:1}),a(v,{type:"primary",size:"small",plain:""},{default:s(()=>[Z]),_:1})])])]),_:1})]),_:1})])]),n.data.length?(i(!0),p(k,{key:0},j(n.data,e=>(i(),p("div",{class:"block rounded block-bordered mb-2",key:e.id},[t("div",$,[t("h3",tt,c(y.format_date(e.created_at)),1),t("div",st,[t("div",et,[e.status=="pending"?(i(),_(m,{key:0,class:"ml-2",type:"warning"},{default:s(()=>[d("Menunggu Konfirmasi")]),_:1})):e.status=="confirm"?(i(),_(m,{key:1,class:"ml-2",type:"info"},{default:s(()=>[d("Disetujui")]),_:1})):e.status=="cancel"?(i(),_(m,{key:2,class:"ml-2",type:"danger"},{default:s(()=>[d("Ditolak")]),_:1})):g("",!0)])])]),t("div",at,[a(f,{gutter:20},{default:s(()=>[a(u,{lg:18},{default:s(()=>[a(f,{gutter:20},{default:s(()=>[a(u,{lg:3},{default:s(()=>[t("img",{src:e.lines[0].product.main_image,class:"img-fluid"},null,8,ot)]),_:2},1024),a(u,{lg:18,class:"d-flex"},{default:s(()=>[t("div",nt,[t("div",lt,[d(c(e.lines[0].product.name)+" ",1),e.lines[0].variant.name?(i(),p(k,{key:0},[d(" - "+c(e.lines[0].variant.name),1)],64)):g("",!0)]),t("div",rt,c(e.lines[0].qty),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),t("div",it,[t("a",{href:l.route("user.return.show",{id:e.id}),class:"ep-button ep-button--primary is-plain"}," Detail Retur ",8,ct)])]))),128)):g("",!0)]),_:1})}const bt=D(L,[["render",dt]]);export{bt as default};
