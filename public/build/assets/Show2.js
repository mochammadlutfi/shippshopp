import{h as v}from"./moment.js";import{_ as k,A as w,j as o,k as d,l as n,p as t,v as _,q as s,$ as i,a0 as r,s as u,a2 as B,u as E,F as S,E as x}from"./id.js";import{E as D}from"./index32.js";import{E as P}from"./index20.js";import{E as M}from"./index30.js";import{E as T,a as C}from"./index8.js";import"./index21.js";import"./typescript.js";import"./event.js";import"./index28.js";import"./scroll.js";import"./index7.js";const j={props:{data:{type:Object,default:{}}},setup(){},methods:{format_date(a){if(a)return v.locale("id"),v(String(a)).format("DD MMMM YYYY")},async doTest(){this.$inertia.form({id:this.data.id}).post(this.route("user.order.test"),{preserveScroll:!0})},receive(a){D.alert("Pastikan barang yang diterima sesuai dengan pesanan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Pesanan Sudah Diterima!",cancelButtonText:"Batal!",type:"warning"}).then(()=>{this.$inertia.post(this.route("user.order.confirm",{id:a}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),P({type:"success",message:"Pesanan Berhasil Diterima!"})}})})}}},N={class:"content"},V=t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[t("h3",{class:"fs-4 fw-bold mb-0"},"Detail Pesanan")],-1),Y={class:"block block-bordered rounded"},q={class:"block-header border-bottom border-2 py-2 px-3"},F={class:"block-title d-flex"},A={class:"fw-bold"},I={class:"border-2 border-dark border-start fw-medium ms-2 ps-2"},K={class:"block-options"},L=["href"],O={class:"block-content p-3"},R=t("h5",{class:"fw-semibold fs-6 mb-2"},"Info Pengiriman",-1),z={class:"fw-bold"},G={class:""},H=t("br",null,null,-1),J={class:"block-content p-0"},Q={class:"order-items"},U={class:"product-info"},W={class:"product-img"},X=["src"],Z={class:"product-detail"},$={class:"product_name"},tt={class:"product_price"},et={class:"order-sum"},st={class:"mb-0 font-w700"},at={class:"order-footer"},ot={class:"order-row"},nt=t("div",{class:"col-title"},[t("span",null,"Subtotal Produk")],-1),it={class:"col-val"},dt={class:"order-row"},ct=t("div",{class:"col-title"},[t("span",null,"Biaya Kirim")],-1),lt={class:"col-val"},rt={class:"order-row"},_t=t("div",{class:"col-title"},[t("span",null,"Total Belanja")],-1),ut={class:"col-val"};function mt(a,m,e,ht,ft,h){const l=M,y=x,f=T,p=C,g=w("base-layout");return o(),d(g,null,{default:n(()=>[t("div",N,[_(p,{justify:"center"},{default:n(()=>[_(f,{span:16},{default:n(()=>[V,t("div",Y,[t("div",q,[t("div",F,[t("div",A,s(e.data.nomor),1),t("div",I,[i(s(h.format_date(e.data.created_at))+" ",1),e.data.state=="pending"&&e.data.payment_status=="unpaid"?(o(),d(l,{key:0,class:"ml-2",type:"danger"},{default:n(()=>[i("Belum Bayar")]),_:1})):e.data.state=="process"?(o(),d(l,{key:1,class:"ml-2",type:"warning"},{default:n(()=>[i("Dikemas")]),_:1})):e.data.state=="shipped"?(o(),d(l,{key:2,class:"ml-2",type:"info"},{default:n(()=>[i("Dikirim")]),_:1})):e.data.state=="done"?(o(),d(l,{key:3,class:"ml-2",type:"success"},{default:n(()=>[i("Selesai")]),_:1})):e.data.state=="cancel"?(o(),d(l,{key:4,class:"ml-2",type:"danger"},{default:n(()=>[i("Batal")]),_:1})):r("",!0)])]),t("div",K,[e.data.payment_status=="unpaid"?(o(),u("a",{key:0,href:`https://app.sandbox.midtrans.com/snap/v4/redirection/${e.data.payment_ref}`,class:"ep-button ep-button--primary"}," Bayar Sekarang ",8,L)):r("",!0),e.data.state=="shipped"?(o(),d(y,{key:1,type:"primary",onClick:m[0]||(m[0]=B(c=>h.receive(e.data.id),["prevent"]))},{default:n(()=>[i(" Terima Pesanan ")]),_:1})):r("",!0)])]),t("div",O,[_(p,null,{default:n(()=>[e.data.shipping?(o(),d(f,{key:0,lg:12},{default:n(()=>[R,t("div",z,s(e.data.shipping.reciever),1),t("div",G,s(e.data.shipping.phone),1),t("address",null,[i(s(e.data.shipping.address)+" ",1),H,i(" "+s(e.data.shipping.city.name)+", "+s(e.data.shipping.province.name),1)])]),_:1})):r("",!0)]),_:1})]),t("div",J,[(o(!0),u(S,null,E(e.data.lines,(c,b)=>(o(),u("div",{class:"order-content",key:b},[t("div",Q,[t("div",U,[t("div",W,[t("img",{src:c.product.main_image,class:"img-fluid"},null,8,X)]),t("div",Z,[t("div",$,s(c.product.nama),1),t("div",tt,s(c.qty)+" x "+s(a.currency(c.harga)),1)])])]),t("div",et,[t("p",st,s(a.currency(c.subtotal)),1)])]))),128)),t("div",at,[t("div",ot,[nt,t("div",it,[t("div",null,s(a.currency(e.data.total)),1)])]),t("div",dt,[ct,t("div",lt,[t("div",null,s(a.currency(e.data.shipping_cost)),1)])]),t("div",rt,[_t,t("div",ut,[t("div",null,s(a.currency(e.data.grand_total)),1)])])])])])]),_:1})]),_:1})])]),_:1})}const Pt=k(j,[["render",mt]]);export{Pt as default};
