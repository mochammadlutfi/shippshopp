import{h as v}from"./moment.js";import{_ as k,A as w,j as s,k as d,l as a,p as t,v as _,q as o,$ as i,a0 as l,s as u,a2 as B,u as E,F as S,E as x}from"./id.js";import{E as D}from"./index29.js";import{E as P}from"./index20.js";import{E as M}from"./index32.js";import{E as T,a as C}from"./index8.js";import"./index21.js";import"./typescript.js";import"./event.js";import"./index27.js";import"./scroll.js";import"./index7.js";const j={props:{data:{type:Object,default:{}}},setup(){},methods:{format_date(n){if(n)return v.locale("id"),v(String(n)).format("DD MMMM YYYY")},async doTest(){this.$inertia.form({id:this.data.id}).post(this.route("user.order.test"),{preserveScroll:!0})},receive(n){D.alert("Pastikan barang yang diterima sesuai dengan pesanan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Pesanan Sudah Diterima!",cancelButtonText:"Batal!",type:"warning"}).then(()=>{this.$inertia.post(this.route("user.order.confirm",{id:n}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),P({type:"success",message:"Pesanan Berhasil Diterima!"})}})})}}},N={class:"content"},V=t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[t("h3",{class:"fs-4 fw-bold mb-0"},"Detail Pesanan")],-1),Y={class:"block block-bordered rounded"},q={class:"block-header border-bottom border-2 py-2 px-3"},F={class:"block-title d-flex"},A={class:"fw-bold"},I={class:"border-2 border-dark border-start fw-medium ms-2 ps-2"},L={class:"block-options"},O=["href"],R={class:"block-content p-3"},z=t("h5",{class:"fw-semibold fs-6 mb-2"},"Info Pengiriman",-1),G={class:"fw-bold"},H={class:""},J={class:"block-content p-0"},K={class:"order-items"},Q={class:"product-info"},U={class:"product-img"},W=["src"],X={class:"product-detail"},Z={class:"product_name"},$={class:"product_price"},tt={class:"order-sum"},et={class:"mb-0 font-w700"},st={class:"order-footer"},at={class:"order-row"},ot=t("div",{class:"col-title"},[t("span",null,"Subtotal Produk")],-1),nt={class:"col-val"},dt={class:"order-row"},it=t("div",{class:"col-title"},[t("span",null,"Total Belanja")],-1),ct={class:"col-val"};function rt(n,m,e,lt,_t,h){const r=M,y=x,f=T,p=C,b=w("base-layout");return s(),d(b,null,{default:a(()=>[t("div",N,[_(p,{justify:"center"},{default:a(()=>[_(f,{span:16},{default:a(()=>[V,t("div",Y,[t("div",q,[t("div",F,[t("div",A,o(e.data.nomor),1),t("div",I,[i(o(h.format_date(e.data.created_at))+" ",1),e.data.state=="pending"&&e.data.payment_status=="unpaid"?(s(),d(r,{key:0,class:"ml-2",type:"danger"},{default:a(()=>[i("Belum Bayar")]),_:1})):e.data.state=="process"?(s(),d(r,{key:1,class:"ml-2",type:"warning"},{default:a(()=>[i("Dikemas")]),_:1})):e.data.state=="shipped"?(s(),d(r,{key:2,class:"ml-2",type:"info"},{default:a(()=>[i("Dikirim")]),_:1})):e.data.state=="done"?(s(),d(r,{key:3,class:"ml-2",type:"success"},{default:a(()=>[i("Selesai")]),_:1})):e.data.state=="cancel"?(s(),d(r,{key:4,class:"ml-2",type:"danger"},{default:a(()=>[i("Batal")]),_:1})):l("",!0)])]),t("div",L,[e.data.payment_status=="unpaid"?(s(),u("a",{key:0,href:`https://app.sandbox.midtrans.com/snap/v4/redirection/${e.data.payment_ref}`,class:"ep-button ep-button--primary"}," Bayar Sekarang ",8,O)):l("",!0),e.data.state=="shipped"?(s(),d(y,{key:1,type:"primary",onClick:m[0]||(m[0]=B(c=>h.receive(e.data.id),["prevent"]))},{default:a(()=>[i(" Terima Pesanan ")]),_:1})):l("",!0)])]),t("div",R,[_(p,null,{default:a(()=>[e.data.shipping?(s(),d(f,{key:0,lg:12},{default:a(()=>[z,t("div",G,o(e.data.shipping.reciever),1),t("div",H,o(e.data.shipping.phone),1),t("address",null,o(e.data.shipping.address),1)]),_:1})):l("",!0)]),_:1})]),t("div",J,[(s(!0),u(S,null,E(e.data.lines,(c,g)=>(s(),u("div",{class:"order-content",key:g},[t("div",K,[t("div",Q,[t("div",U,[t("img",{src:c.product.main_image,class:"img-fluid"},null,8,W)]),t("div",X,[t("div",Z,o(c.product.nama),1),t("div",$,o(c.qty)+" x "+o(n.currency(c.harga)),1)])])]),t("div",tt,[t("p",et,o(n.currency(c.subtotal)),1)])]))),128)),t("div",st,[t("div",at,[ot,t("div",nt,[t("div",null,o(n.currency(e.data.total)),1)])]),t("div",dt,[it,t("div",ct,[t("div",null,o(n.currency(e.data.grand_total)),1)])])])])])]),_:1})]),_:1})])]),_:1})}const Et=k(j,[["render",rt]]);export{Et as default};
