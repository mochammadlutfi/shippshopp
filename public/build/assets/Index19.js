import{_ as C,A as D,j as f,k as B,l as t,p as a,$ as d,v as e,a2 as M,s as S,q as u,a0 as V,E as K,B as T,x as j,y as z}from"./id.js";import{E as N}from"./index32.js";import{E as Y}from"./index20.js";import{E as A,a as L}from"./index26.js";import{E as P,a as U}from"./index8.js";import{E as I}from"./index21.js";import{E as H,a as q}from"./index33.js";import{E as O}from"./index34.js";import"./index28.js";import"./scroll.js";import"./index7.js";import"./typescript.js";import"./index30.js";import"./isEqual.js";import"./_Uint8Array.js";import"./event.js";import"./debounce.js";import"./index31.js";import"./index23.js";import"./_initCloneObject.js";const R={data(){return{data:[],isLoading:!0,searchKey:"name",searchKeyword:"",limit:25,total:0,page:1,pageSize:0}},async created(){await this.fetchData()},methods:{async fetchData(s){var s=s??1;try{this.isLoading=!0;const l=await axios.get("/admin/pengguna/data",{params:{page:s,limit:this.limit,search:this.searchKeyword,searchKey:this.searchKey}});l.status==200&&(this.data=l.data.data,this.page=l.data.current_page,this.total=l.data.total,this.pageSize=l.data.per_page),this.isLoading=!1}catch(l){console.error(l)}},format_date(o){if(o)return moment(String(o)).format("DD MMM YYYY")},hapus(o){N.alert("Data yang dihapus tidak bisa dikembalikan!","Peringatan",{showCancelButton:!0,confirmButtonText:"Ya!",cancelButtonText:"Tidak!",type:"warning"}).then(()=>{this.$inertia.delete(this.route("admin.user.delete",{id:o}),{preserveScroll:!0,onSuccess:()=>{this.fetchData(),Y({type:"success",message:"Data Berhasil Dihapus!"})}})})}}},F={class:"content"},G={class:"content-heading d-flex justify-content-between align-items-center"},J=a("span",null,"Pengguna",-1),Q={class:"space-x-1"},W=["href"],X=a("i",{class:"fa fa-plus me-1"},null,-1),Z={class:"block block-rounded"},$={class:"block-content py-3"},ee=a("i",{class:"fa fa-search"},null,-1),te={class:"block-content p-0"},ae=a("i",{class:"fa fa-angle-down ms-1"},null,-1),oe=["href"],se=a("i",{class:"si fa-fw si-note"},null,-1),ne=a("i",{class:"si fa-fw si-trash"},null,-1),le={key:0,class:"block-content py-2"},ie={class:"mb-0"};function re(o,s,l,ce,n,p){const m=A,g=L,c=P,b=I,_=U,r=H,w=K,h=T,y=j,k=z,E=q,x=O,v=D("base-layout");return f(),B(v,null,{default:t(()=>[a("div",F,[a("div",G,[J,a("div",Q,[a("a",{href:o.route("admin.user.create"),class:"ep-button ep-button--primary"},[X,d(" Tambah ")],8,W)])]),a("div",Z,[a("div",$,[e(_,{justify:"space-between"},{default:t(()=>[e(c,{span:12},{default:t(()=>[e(g,{modelValue:n.limit,"onUpdate:modelValue":s[0]||(s[0]=i=>n.limit=i),placeholder:"Pilih",style:{width:"115px"},onChange:s[1]||(s[1]=i=>p.fetchData(1))},{default:t(()=>[e(m,{label:"25",value:"25"}),e(m,{label:"50",value:"50"}),e(m,{label:"100",value:"100"})]),_:1},8,["modelValue"])]),_:1}),e(c,{span:8},{default:t(()=>[e(b,{modelValue:n.searchKeyword,"onUpdate:modelValue":s[2]||(s[2]=i=>n.searchKeyword=i),placeholder:"Masukan kata kunci",class:"input-with-select",clearable:""},{prefix:t(()=>[ee]),_:1},8,["modelValue"])]),_:1})]),_:1})]),a("div",te,[e(E,{data:n.data,class:"w-100",onSortChange:o.sortChange,"header-cell-class-name":"bg-primary text-dark"},{default:t(()=>[e(r,{type:"index",index:o.indexMethod,width:"100"},null,8,["index"]),e(r,{prop:"name",label:"Nama",sortable:""}),e(r,{prop:"username",label:"Username",sortable:""}),e(r,{prop:"email",label:"Email",sortable:""}),e(r,{prop:"level",label:"Hak Akses",sortable:""}),e(r,{label:"Aksi",align:"center",width:"180"},{default:t(i=>[e(k,{"popper-class":"dropdown-action",trigger:"click"},{dropdown:t(()=>[e(y,null,{default:t(()=>[e(h,null,{default:t(()=>[a("a",{href:o.route("admin.user.edit",{id:i.row.id}),class:"w-100 d-flex align-items-center justify-content-between space-x-1"},[d(" Ubah "),se],8,oe)]),_:2},1024),e(h,{class:"d-flex align-items-center justify-content-between space-x-1",onClick:M(de=>p.hapus(i.row.id),["prevent"])},{default:t(()=>[d(" Hapus "),ne]),_:2},1032,["onClick"])]),_:2},1024)]),default:t(()=>[e(w,{type:"primary"},{default:t(()=>[d(" Aksi "),ae]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","onSortChange"])]),n.isLoading==!1?(f(),S("div",le,[e(_,{justify:"space-between"},{default:t(()=>[e(c,{lg:12},{default:t(()=>[a("p",ie,"Menampilkan "+u(o.from)+" sampai "+u(o.to)+" dari "+u(n.total),1)]),_:1}),e(c,{lg:12,class:"text-end"},{default:t(()=>[e(x,{class:"float-end",background:"",layout:"prev, pager, next","page-size":n.pageSize,total:n.total,"current-page":n.page,onCurrentChange:p.fetchData},null,8,["page-size","total","current-page","onCurrentChange"])]),_:1})]),_:1})])):V("",!0)])])]),_:1})}const Ke=C(R,[["render",re]]);export{Ke as default};
