import{a9 as K,at as $,R as N,T as I,f as L,ck as Fe,cl as pe,aU as Pe,cm as fe,ce as me,aL as ve,ab as te,j as b,s as P,H as h,U as e,p as U,W as M,G as D,q as z,a0 as S,k as V,l as k,as as Re,aF as A,V as W,X as ge,b8 as ee,b4 as ye,aZ as be,aV as T,bs as Ue,ag as X,r as j,F as Le,u as Te,bt as he,a2 as q,v as y,cn as De,co as Oe,cp as Be,bc as Ve,i as Ne,aQ as Y,cq as ae,cr as je,cs as Me,w as se,ap as Ae,b9 as qe,ao as He,aS as Ie,bH as oe,aT as le,an as Ke,A as ze,a3 as We,$ as Xe,ct as Ge,E as Je}from"./id.js";import Qe from"./CategorySelect.js";import Ye from"./BrandSelect.js";import{E as Ze}from"./index20.js";import{E as xe}from"./index21.js";import{b as et,E as tt,a as at}from"./index22.js";import{E as st,a as ot}from"./index8.js";import{m as Z}from"./typescript.js";import{i as lt}from"./isEqual.js";import{v as rt}from"./directive.js";import"./index33.js";import"./index32.js";import"./event.js";import"./scroll.js";import"./debounce.js";import"./index31.js";import"./_Uint8Array.js";import"./index7.js";import"./_initCloneObject.js";var nt=1,it=4;function re(a){return et(a,nt|it)}const ut=K({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:$(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:$([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:$(Function),default:a=>`${a}%`}}),dt=["aria-valuenow"],ct={viewBox:"0 0 100 100"},pt=["d","stroke","stroke-linecap","stroke-width"],ft=["d","stroke","opacity","stroke-linecap","stroke-width"],mt={key:0},vt=N({name:"ElProgress"}),gt=N({...vt,props:ut,setup(a){const t=a,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},u=I("progress"),r=L(()=>{const l={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},E=R(t.percentage);return E.includes("gradient")?l.background=E:l.backgroundColor=E,l}),c=L(()=>(t.strokeWidth/t.width*100).toFixed(1)),g=L(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(c.value)/2}`,10):0),F=L(()=>{const l=g.value,E=t.type==="dashboard";return`
          M 50 50
          m 0 ${E?"":"-"}${l}
          a ${l} ${l} 0 1 1 0 ${E?"-":""}${l*2}
          a ${l} ${l} 0 1 1 0 ${E?"":"-"}${l*2}
          `}),_=L(()=>2*Math.PI*g.value),C=L(()=>t.type==="dashboard"?.75:1),w=L(()=>`${-1*_.value*(1-C.value)/2}px`),d=L(()=>({strokeDasharray:`${_.value*C.value}px, ${_.value}px`,strokeDashoffset:w.value})),n=L(()=>({strokeDasharray:`${_.value*C.value*(t.percentage/100)}px, ${_.value}px`,strokeDashoffset:w.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),s=L(()=>{let l;return t.color?l=R(t.percentage):l=o[t.status]||o.default,l}),f=L(()=>t.status==="warning"?Fe:t.type==="line"?t.status==="success"?pe:Pe:t.status==="success"?fe:me),i=L(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),m=L(()=>t.format(t.percentage));function p(l){const E=100/l.length;return l.map((O,B)=>te(O)?{color:O,percentage:(B+1)*E}:O).sort((O,B)=>O.percentage-B.percentage)}const R=l=>{var E;const{color:v}=t;if(ve(v))return v(l);if(te(v))return v;{const O=p(v);for(const B of O)if(B.percentage>l)return B.color;return(E=O[O.length-1])==null?void 0:E.color}};return(l,E)=>(b(),P("div",{class:h([e(u).b(),e(u).m(l.type),e(u).is(l.status),{[e(u).m("without-text")]:!l.showText,[e(u).m("text-inside")]:l.textInside}]),role:"progressbar","aria-valuenow":l.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[l.type==="line"?(b(),P("div",{key:0,class:h(e(u).b("bar"))},[U("div",{class:h(e(u).be("bar","outer")),style:M({height:`${l.strokeWidth}px`})},[U("div",{class:h([e(u).be("bar","inner"),{[e(u).bem("bar","inner","indeterminate")]:l.indeterminate},{[e(u).bem("bar","inner","striped")]:l.striped},{[e(u).bem("bar","inner","striped-flow")]:l.stripedFlow}]),style:M(e(r))},[(l.showText||l.$slots.default)&&l.textInside?(b(),P("div",{key:0,class:h(e(u).be("bar","innerText"))},[D(l.$slots,"default",{percentage:l.percentage},()=>[U("span",null,z(e(m)),1)])],2)):S("v-if",!0)],6)],6)],2)):(b(),P("div",{key:1,class:h(e(u).b("circle")),style:M({height:`${l.width}px`,width:`${l.width}px`})},[(b(),P("svg",ct,[U("path",{class:h(e(u).be("circle","track")),d:e(F),stroke:`var(${e(u).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":l.strokeLinecap,"stroke-width":e(c),fill:"none",style:M(e(d))},null,14,pt),U("path",{class:h(e(u).be("circle","path")),d:e(F),stroke:e(s),fill:"none",opacity:l.percentage?1:0,"stroke-linecap":l.strokeLinecap,"stroke-width":e(c),style:M(e(n))},null,14,ft)]))],6)),(l.showText||l.$slots.default)&&!l.textInside?(b(),P("div",{key:2,class:h(e(u).e("text")),style:M({fontSize:`${e(i)}px`})},[D(l.$slots,"default",{percentage:l.percentage},()=>[l.status?(b(),V(e(A),{key:1},{default:k(()=>[(b(),V(Re(e(f))))]),_:1})):(b(),P("span",mt,z(e(m)),1))])],6)):S("v-if",!0)],10,dt))}});var yt=W(gt,[["__file","progress.vue"]]);const bt=ge(yt),ke=Symbol("uploadContextKey"),ht="ElUpload";class kt extends Error{constructor(t,o,u,r){super(t),this.name="UploadAjaxError",this.status=o,this.method=u,this.url=r}}function ne(a,t,o){let u;return o.response?u=`${o.response.error||o.response}`:o.responseText?u=`${o.responseText}`:u=`fail to ${t.method} ${a} ${o.status}`,new kt(u,o.status,t.method,a)}function _t(a){const t=a.responseText||a.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const $t=a=>{typeof XMLHttpRequest>"u"&&ee(ht,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,o=a.action;t.upload&&t.upload.addEventListener("progress",c=>{const g=c;g.percent=c.total>0?c.loaded/c.total*100:0,a.onProgress(g)});const u=new FormData;if(a.data)for(const[c,g]of Object.entries(a.data))ye(g)&&g.length?u.append(c,...g):u.append(c,g);u.append(a.filename,a.file,a.file.name),t.addEventListener("error",()=>{a.onError(ne(o,a,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return a.onError(ne(o,a,t));a.onSuccess(_t(t))}),t.open(a.method,o,!0),a.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const r=a.headers||{};if(r instanceof Headers)r.forEach((c,g)=>t.setRequestHeader(g,c));else for(const[c,g]of Object.entries(r))be(g)||t.setRequestHeader(c,String(g));return t.send(u),t},_e=["text","picture","picture-card"];let wt=1;const x=()=>Date.now()+wt++,$e=K({action:{type:String,default:"#"},headers:{type:$(Object)},method:{type:String,default:"post"},data:{type:$([Object,Function,Promise]),default:()=>Z({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:$(Array),default:()=>Z([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:_e,default:"text"},httpRequest:{type:$(Function),default:$t},disabled:Boolean,limit:Number}),Et=K({...$e,beforeUpload:{type:$(Function),default:T},beforeRemove:{type:$(Function)},onRemove:{type:$(Function),default:T},onChange:{type:$(Function),default:T},onPreview:{type:$(Function),default:T},onSuccess:{type:$(Function),default:T},onProgress:{type:$(Function),default:T},onError:{type:$(Function),default:T},onExceed:{type:$(Function),default:T},crossorigin:{type:$(String)}}),St=K({files:{type:$(Array),default:()=>Z([])},disabled:{type:Boolean,default:!1},handlePreview:{type:$(Function),default:T},listType:{type:String,values:_e,default:"text"},crossorigin:{type:$(String)}}),Ct={remove:a=>!!a},Ft=["onKeydown"],Pt=["src","crossorigin"],Rt=["onClick"],Ut=["title"],Lt=["onClick"],Tt=["onClick"],Dt=N({name:"ElUploadList"}),Ot=N({...Dt,props:St,emits:Ct,setup(a,{emit:t}){const o=a,{t:u}=Ue(),r=I("upload"),c=I("icon"),g=I("list"),F=X(),_=j(!1),C=L(()=>[r.b("list"),r.bm("list",o.listType),r.is("disabled",o.disabled)]),w=d=>{t("remove",d)};return(d,n)=>(b(),V(Ve,{tag:"ul",class:h(e(C)),name:e(g).b()},{default:k(()=>[(b(!0),P(Le,null,Te(d.files,s=>(b(),P("li",{key:s.uid||s.name,class:h([e(r).be("list","item"),e(r).is(s.status),{focusing:_.value}]),tabindex:"0",onKeydown:he(f=>!e(F)&&w(s),["delete"]),onFocus:n[0]||(n[0]=f=>_.value=!0),onBlur:n[1]||(n[1]=f=>_.value=!1),onClick:n[2]||(n[2]=f=>_.value=!1)},[D(d.$slots,"default",{file:s},()=>[d.listType==="picture"||s.status!=="uploading"&&d.listType==="picture-card"?(b(),P("img",{key:0,class:h(e(r).be("list","item-thumbnail")),src:s.url,crossorigin:d.crossorigin,alt:""},null,10,Pt)):S("v-if",!0),s.status==="uploading"||d.listType!=="picture-card"?(b(),P("div",{key:1,class:h(e(r).be("list","item-info"))},[U("a",{class:h(e(r).be("list","item-name")),onClick:q(f=>d.handlePreview(s),["prevent"])},[y(e(A),{class:h(e(c).m("document"))},{default:k(()=>[y(e(De))]),_:1},8,["class"]),U("span",{class:h(e(r).be("list","item-file-name")),title:s.name},z(s.name),11,Ut)],10,Rt),s.status==="uploading"?(b(),V(e(bt),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(s.percentage),style:M(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):S("v-if",!0)],2)):S("v-if",!0),U("label",{class:h(e(r).be("list","item-status-label"))},[d.listType==="text"?(b(),V(e(A),{key:0,class:h([e(c).m("upload-success"),e(c).m("circle-check")])},{default:k(()=>[y(e(pe))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(b(),V(e(A),{key:1,class:h([e(c).m("upload-success"),e(c).m("check")])},{default:k(()=>[y(e(fe))]),_:1},8,["class"])):S("v-if",!0)],2),e(F)?S("v-if",!0):(b(),V(e(A),{key:2,class:h(e(c).m("close")),onClick:f=>w(s)},{default:k(()=>[y(e(me))]),_:2},1032,["class","onClick"])),S(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),S(" This is a bug which needs to be fixed "),S(" TODO: Fix the incorrect navigation interaction "),e(F)?S("v-if",!0):(b(),P("i",{key:3,class:h(e(c).m("close-tip"))},z(e(u)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(b(),P("span",{key:4,class:h(e(r).be("list","item-actions"))},[U("span",{class:h(e(r).be("list","item-preview")),onClick:f=>d.handlePreview(s)},[y(e(A),{class:h(e(c).m("zoom-in"))},{default:k(()=>[y(e(Oe))]),_:1},8,["class"])],10,Lt),e(F)?S("v-if",!0):(b(),P("span",{key:0,class:h(e(r).be("list","item-delete")),onClick:f=>w(s)},[y(e(A),{class:h(e(c).m("delete"))},{default:k(()=>[y(e(Be))]),_:1},8,["class"])],10,Tt))],2)):S("v-if",!0)])],42,Ft))),128)),D(d.$slots,"append")]),_:3},8,["class","name"]))}});var ie=W(Ot,[["__file","upload-list.vue"]]);const Bt=K({disabled:{type:Boolean,default:!1}}),Vt={file:a=>ye(a)},Nt=["onDrop","onDragover"],we="ElUploadDrag",jt=N({name:we}),Mt=N({...jt,props:Bt,emits:Vt,setup(a,{emit:t}){Ne(ke)||ee(we,"usage: <el-upload><el-upload-dragger /></el-upload>");const u=I("upload"),r=j(!1),c=X(),g=_=>{if(c.value)return;r.value=!1,_.stopPropagation();const C=Array.from(_.dataTransfer.files);t("file",C)},F=()=>{c.value||(r.value=!0)};return(_,C)=>(b(),P("div",{class:h([e(u).b("dragger"),e(u).is("dragover",r.value)]),onDrop:q(g,["prevent"]),onDragover:q(F,["prevent"]),onDragleave:C[0]||(C[0]=q(w=>r.value=!1,["prevent"]))},[D(_.$slots,"default")],42,Nt))}});var At=W(Mt,[["__file","upload-dragger.vue"]]);const qt=K({...$e,beforeUpload:{type:$(Function),default:T},onRemove:{type:$(Function),default:T},onStart:{type:$(Function),default:T},onSuccess:{type:$(Function),default:T},onProgress:{type:$(Function),default:T},onError:{type:$(Function),default:T},onExceed:{type:$(Function),default:T}}),Ht=["onKeydown"],It=["name","multiple","accept"],Kt=N({name:"ElUploadContent",inheritAttrs:!1}),zt=N({...Kt,props:qt,setup(a,{expose:t}){const o=a,u=I("upload"),r=X(),c=Y({}),g=Y(),F=i=>{if(i.length===0)return;const{autoUpload:m,limit:p,fileList:R,multiple:l,onStart:E,onExceed:v}=o;if(p&&R.length+i.length>p){v(i,R);return}l||(i=i.slice(0,1));for(const O of i){const B=O;B.uid=x(),E(B),m&&_(B)}},_=async i=>{if(g.value.value="",!o.beforeUpload)return w(i);let m,p={};try{const l=o.data,E=o.beforeUpload(i);p=ae(o.data)?re(o.data):o.data,m=await E,ae(o.data)&&lt(l,p)&&(p=re(o.data))}catch{m=!1}if(m===!1){o.onRemove(i);return}let R=i;m instanceof Blob&&(m instanceof File?R=m:R=new File([m],i.name,{type:i.type})),w(Object.assign(R,{uid:i.uid}),p)},C=async(i,m)=>ve(i)?i(m):i,w=async(i,m)=>{const{headers:p,data:R,method:l,withCredentials:E,name:v,action:O,onProgress:B,onSuccess:Ee,onError:Se,httpRequest:Ce}=o;try{m=await C(m??R,i)}catch{o.onRemove(i);return}const{uid:G}=i,J={headers:p||{},withCredentials:E,file:i,data:m,method:l,filename:v,action:O,onProgress:H=>{B(H,i)},onSuccess:H=>{Ee(H,i),delete c.value[G]},onError:H=>{Se(H,i),delete c.value[G]}},Q=Ce(J);c.value[G]=Q,Q instanceof Promise&&Q.then(J.onSuccess,J.onError)},d=i=>{const m=i.target.files;m&&F(Array.from(m))},n=()=>{r.value||(g.value.value="",g.value.click())},s=()=>{n()};return t({abort:i=>{je(c.value).filter(i?([p])=>String(i.uid)===p:()=>!0).forEach(([p,R])=>{R instanceof XMLHttpRequest&&R.abort(),delete c.value[p]})},upload:_}),(i,m)=>(b(),P("div",{class:h([e(u).b(),e(u).m(i.listType),e(u).is("drag",i.drag)]),tabindex:"0",onClick:n,onKeydown:he(q(s,["self"]),["enter","space"])},[i.drag?(b(),V(At,{key:0,disabled:e(r),onFile:F},{default:k(()=>[D(i.$slots,"default")]),_:3},8,["disabled"])):D(i.$slots,"default",{key:1}),U("input",{ref_key:"inputRef",ref:g,class:h(e(u).e("input")),name:i.name,multiple:i.multiple,accept:i.accept,type:"file",onChange:d,onClick:m[0]||(m[0]=q(()=>{},["stop"]))},null,42,It)],42,Ht))}});var ue=W(zt,[["__file","upload-content.vue"]]);const de="ElUpload",ce=a=>{var t;(t=a.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(a.url)},Wt=(a,t)=>{const o=Me(a,"fileList",void 0,{passive:!0}),u=n=>o.value.find(s=>s.uid===n.uid);function r(n){var s;(s=t.value)==null||s.abort(n)}function c(n=["ready","uploading","success","fail"]){o.value=o.value.filter(s=>!n.includes(s.status))}const g=(n,s)=>{const f=u(s);f&&(console.error(n),f.status="fail",o.value.splice(o.value.indexOf(f),1),a.onError(n,f,o.value),a.onChange(f,o.value))},F=(n,s)=>{const f=u(s);f&&(a.onProgress(n,f,o.value),f.status="uploading",f.percentage=Math.round(n.percent))},_=(n,s)=>{const f=u(s);f&&(f.status="success",f.response=n,a.onSuccess(n,f,o.value),a.onChange(f,o.value))},C=n=>{be(n.uid)&&(n.uid=x());const s={name:n.name,percentage:0,status:"ready",size:n.size,raw:n,uid:n.uid};if(a.listType==="picture-card"||a.listType==="picture")try{s.url=URL.createObjectURL(n)}catch(f){Ae(de,f.message),a.onError(f,s,o.value)}o.value=[...o.value,s],a.onChange(s,o.value)},w=async n=>{const s=n instanceof File?u(n):n;s||ee(de,"file to be removed not found");const f=i=>{r(i);const m=o.value;m.splice(m.indexOf(i),1),a.onRemove(i,m),ce(i)};a.beforeRemove?await a.beforeRemove(s,o.value)!==!1&&f(s):f(s)};function d(){o.value.filter(({status:n})=>n==="ready").forEach(({raw:n})=>{var s;return n&&((s=t.value)==null?void 0:s.upload(n))})}return se(()=>a.listType,n=>{n!=="picture-card"&&n!=="picture"||(o.value=o.value.map(s=>{const{raw:f,url:i}=s;if(!i&&f)try{s.url=URL.createObjectURL(f)}catch(m){a.onError(m,s,o.value)}return s}))}),se(o,n=>{for(const s of n)s.uid||(s.uid=x()),s.status||(s.status="success")},{immediate:!0,deep:!0}),{uploadFiles:o,abort:r,clearFiles:c,handleError:g,handleProgress:F,handleStart:C,handleSuccess:_,handleRemove:w,submit:d,revokeFileObjectURL:ce}},Xt=N({name:"ElUpload"}),Gt=N({...Xt,props:Et,setup(a,{expose:t}){const o=a,u=X(),r=Y(),{abort:c,submit:g,clearFiles:F,uploadFiles:_,handleStart:C,handleError:w,handleRemove:d,handleSuccess:n,handleProgress:s,revokeFileObjectURL:f}=Wt(o,r),i=L(()=>o.listType==="picture-card"),m=L(()=>({...o,fileList:_.value,onStart:C,onProgress:s,onSuccess:n,onError:w,onRemove:d}));return qe(()=>{_.value.forEach(f)}),He(ke,{accept:Ie(o,"accept")}),t({abort:c,submit:g,clearFiles:F,handleStart:C,handleRemove:d}),(p,R)=>(b(),P("div",null,[e(i)&&p.showFileList?(b(),V(ie,{key:0,disabled:e(u),"list-type":p.listType,files:e(_),crossorigin:p.crossorigin,"handle-preview":p.onPreview,onRemove:e(d)},oe({append:k(()=>[y(ue,le({ref_key:"uploadRef",ref:r},e(m)),{default:k(()=>[p.$slots.trigger?D(p.$slots,"trigger",{key:0}):S("v-if",!0),!p.$slots.trigger&&p.$slots.default?D(p.$slots,"default",{key:1}):S("v-if",!0)]),_:3},16)]),_:2},[p.$slots.file?{name:"default",fn:k(({file:l})=>[D(p.$slots,"file",{file:l})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):S("v-if",!0),!e(i)||e(i)&&!p.showFileList?(b(),V(ue,le({key:1,ref_key:"uploadRef",ref:r},e(m)),{default:k(()=>[p.$slots.trigger?D(p.$slots,"trigger",{key:0}):S("v-if",!0),!p.$slots.trigger&&p.$slots.default?D(p.$slots,"default",{key:1}):S("v-if",!0)]),_:3},16)):S("v-if",!0),p.$slots.trigger?D(p.$slots,"default",{key:2}):S("v-if",!0),D(p.$slots,"tip"),!e(i)&&p.showFileList?(b(),V(ie,{key:3,disabled:e(u),"list-type":p.listType,files:e(_),crossorigin:p.crossorigin,"handle-preview":p.onPreview,onRemove:e(d)},oe({_:2},[p.$slots.file?{name:"default",fn:k(({file:l})=>[D(p.$slots,"file",{file:l})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):S("v-if",!0)]))}});var Jt=W(Gt,[["__file","upload.vue"]]);const Qt=ge(Jt);const Yt={class:"content"},Zt={class:"content-heading d-flex justify-content-between align-items-center pt-0"},xt=U("div",{class:"space-x-1"},null,-1),ea={class:"block rounded"},ta={class:"block-content p-4"},aa=U("i",{class:"fa fa-plus"},null,-1),sa=U("i",{class:"fa fa-check me-2"},null,-1),wa={__name:"Form",props:{data:{type:Object,default:()=>({})},errors:Object},setup(a){const t=a,o=j("Tambah Produk Baru"),u=j(!1),r=j({id:null,name:null,description:null,category_id:null,brand_id:null,sku:null,has_variant:!1,sell_price:"",sell_unit_id:null,purchase_price:"",purchase_unit_id:null,image:null}),c=j([]),g=j([]);j([]);const F=()=>{o.value="Ubah Produk",r.value.id=t.data.id,r.value.name=t.data.nama,r.value.description=t.data.deskripsi,r.value.category_id=t.data.kategori_id,r.value.brand_id=t.data.brand_id,r.value.sku=t.data.sku,r.value.sell_price=t.data.harga_jual,r.value.purchase_price=t.data.harga_beli,t.data.image.length&&t.data.image.forEach(w=>{c.value.push({name:w.nama,url:w.path})})},_=(w,d)=>{g.value.push(w)},C=()=>{console.log(c.value),u.value=!0;let w=Object.assign(r.value,{image:c.value,imageDeleted:g.value});const d=Ge(w);let n=Object.keys(t.data).length?route("admin.inventory.product.update",{id:t.data.id}):route("admin.inventory.product.store");d.post(n,{preserveScroll:!0,onSuccess:()=>{Ze({type:"success",message:"Data Berhasil Disimpan!"})},onFinish:()=>{u.value=!1}})};return Ke(()=>{Object.keys(t.data).length&&F()}),(w,d)=>{const n=xe,s=tt,f=st,i=ot,m=Qt,p=Je,R=at,l=ze("base-layout"),E=rt;return b(),V(l,null,{default:k(()=>[U("div",Yt,[y(R,{"label-width":"30%",onSubmit:q(C,["prevent"]),"label-position":"top"},{default:k(()=>[U("div",Zt,[U("span",null,z(o.value),1),xt]),We((b(),P("div",ea,[U("div",ta,[y(i,{gutter:20},{default:k(()=>[y(f,{span:12},{default:k(()=>[y(s,{class:"mb-4",label:"Nama Produk","label-width":"180px",error:a.errors.name},{default:k(()=>[y(n,{modelValue:r.value.name,"onUpdate:modelValue":d[0]||(d[0]=v=>r.value.name=v),placeholder:"Masukan Nama Produk"},null,8,["modelValue"])]),_:1},8,["error"]),y(s,{class:"mb-4",label:"Kategori","label-width":"180px",error:a.errors.category_id},{default:k(()=>[y(Qe,{modelValue:r.value.category_id,"onUpdate:modelValue":d[1]||(d[1]=v=>r.value.category_id=v)},null,8,["modelValue"])]),_:1},8,["error"]),y(s,{class:"mb-4",label:"Merk","label-width":"180px",error:a.errors.brand_id},{default:k(()=>[y(Ye,{modelValue:r.value.brand_id,"onUpdate:modelValue":d[2]||(d[2]=v=>r.value.brand_id=v)},null,8,["modelValue"])]),_:1},8,["error"])]),_:1}),y(f,{span:12},{default:k(()=>[y(s,{class:"mb-4",label:"SKu","label-width":"180px",error:a.errors.sku},{default:k(()=>[y(n,{modelValue:r.value.sku,"onUpdate:modelValue":d[3]||(d[3]=v=>r.value.sku=v),placeholder:"Masukan SKU Produk"},null,8,["modelValue"])]),_:1},8,["error"]),y(s,{class:"mb-4",label:"Harga Jual","label-width":"180px",error:a.errors.sell_price},{default:k(()=>[y(n,{modelValue:r.value.sell_price,"onUpdate:modelValue":d[4]||(d[4]=v=>r.value.sell_price=v),placeholder:"Masukan Harga Jual",formatter:v=>`Rp ${v}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:v=>v.replace(/^Rp\s+|(\,)/gi,"")},null,8,["modelValue","formatter","parser"])]),_:1},8,["error"]),y(s,{class:"mb-4",label:"Harga Beli","label-width":"180px",error:a.errors.purchase_price},{default:k(()=>[y(n,{modelValue:r.value.purchase_price,"onUpdate:modelValue":d[5]||(d[5]=v=>r.value.purchase_price=v),placeholder:"Masukan Harga Beli",formatter:v=>`Rp ${v}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:v=>v.replace(/^Rp\s+|(\,)/gi,"")},null,8,["modelValue","formatter","parser"])]),_:1},8,["error"])]),_:1})]),_:1}),y(s,{class:"mb-4",label:"Deskripsi","label-width":"180px"},{default:k(()=>[y(n,{modelValue:r.value.description,"onUpdate:modelValue":d[6]||(d[6]=v=>r.value.description=v),type:"textarea",rows:3,placeholder:"Masukan Deskripsi"},null,8,["modelValue"])]),_:1}),y(s,{class:"mb-4",label:"Foto Produk","label-width":"180px"},{default:k(()=>[y(m,{action:"#","file-list":c.value,"onUpdate:fileList":d[7]||(d[7]=v=>c.value=v),"on-remove":_,"list-type":"picture-card","auto-upload":!1},{default:k(()=>[aa]),_:1},8,["file-list"])]),_:1}),y(p,{"native-type":"submit"},{default:k(()=>[sa,Xe(" Simpan ")]),_:1})])])),[[E,u.value]])]),_:1},8,["onSubmit"])])]),_:1})}}};export{wa as default};
